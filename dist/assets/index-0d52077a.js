import{b as j,r as b,j as e,F as t,N as l,T as o}from"./index-f429a3a2.js";import{F as S,c as y,a as c,b as v,T as m,B as d}from"./TextField-ce948f6e.js";import{u as w,a as T}from"./axios-97cd80af.js";import{u as k}from"./useToast-df057416.js";import{D as z,f as B}from"./index.esm-d2940f43.js";import{u as E}from"./useOauth-50523859.js";import{B as u}from"./chunk-6CSUKJP7-63a6ae26.js";import{I as F}from"./chunk-E77276RR-ff97a68e.js";async function L(r){const{data:a}=await T.post("/api/v1/auth/",r);return a}const D=()=>w(L);function U({}){const{successToast:r,errorToast:a}=k(),n=j(),{mutateAsync:x}=D(),h={email:"",password:""};b.useEffect(()=>{localStorage.getItem("token")&&n("/",{replace:!0})});function p(s,{setSubmitting:f}){x(s,{onSuccess:i=>{localStorage.setItem("token",i.token),r("Logged in Successfully!"),n("/")},onError:({response:i})=>{a(i.data.message)}}),f(!1)}const g=()=>{E().call("https://bugnet.onrender.com/api/v1/auth/github")};return e.jsxs(t,{justify:"center",align:"center",height:"100vh",flexDir:"column",gap:"10",children:[e.jsx(t,{children:e.jsx(l,{to:"/",children:e.jsxs(t,{justifyContent:"center",alignItems:"center",children:[e.jsx(u,{boxSize:"30px",marginRight:"20px",children:e.jsx(F,{src:"/LogoNoBack.png",alt:"logo"})}),e.jsx(o,{color:"primary.100",fontWeight:"extrabold",fontSize:"2xl",letterSpacing:"4px",children:"BUGNET"})]})})}),e.jsxs(t,{width:"500px",height:"500px",bg:"primary.800",padding:"20px",flexDir:"column",gap:"10",children:[e.jsxs(u,{children:[e.jsx(o,{fontSize:"3xl",fontWeight:"bold",children:"Login"}),e.jsxs(t,{gap:"2",children:[e.jsxs(o,{color:"primary.200",fontSize:"sm",children:["Don't have an account?"," "]}),e.jsx(l,{to:"/register",children:e.jsx(o,{fontSize:"sm",_hover:{borderBottom:"1px solid white"},children:"Register"})})]})]}),e.jsx(S,{initialValues:h,onSubmit:p,validationSchema:y({email:c().email().required("Email is required"),password:c().min(8).max(16).required("Password is required")}),children:({isSubmitting:s})=>e.jsx(v,{children:e.jsxs(t,{flexDirection:"column",gap:"5",children:[e.jsx(m,{type:"text",name:"email",label:"Email",placeholder:"demo@bugnet.com"}),e.jsx(m,{type:"password",name:"password",label:"Password",placeholder:"bugnetdemo"}),e.jsx(d,{disabled:s,type:"submit",colorScheme:"brand",fontSize:"md",size:"md",children:"Submit"})]})})}),e.jsx(z,{}),e.jsx(d,{bg:"primary.800",_hover:{bg:"primary.900"},leftIcon:e.jsx(B,{}),onClick:g,children:"Login With Github"})]})]})}export{U as default};
