import{r as u,l as ee,B as le,i as Ie,p as de,b as X,n as Ee,o as fe,d as Me,j as b,Z as ge,f as U,c as j,a as B,m as De,$ as _e,u as ke,e as ne}from"./index-50ada129.js";import{m as $,u as Ne,d as Oe,e as Pe,f as we,g as Te,h as Se,I as Le}from"./TextField-8f5ff326.js";import{u as Ae,a as Fe,i as je,j as Re,l as Ue}from"./useBugs-ea4f1e4a.js";import{u as te,a as se}from"./axios-01e9b4d2.js";var Ke=Object.defineProperty,ze=(e,n,t)=>n in e?Ke(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,h=(e,n,t)=>(ze(e,typeof n!="symbol"?n+"":n,t),t);function ae(e){return e.sort((n,t)=>{const s=n.compareDocumentPosition(t);if(s&Node.DOCUMENT_POSITION_FOLLOWING||s&Node.DOCUMENT_POSITION_CONTAINED_BY)return-1;if(s&Node.DOCUMENT_POSITION_PRECEDING||s&Node.DOCUMENT_POSITION_CONTAINS)return 1;if(s&Node.DOCUMENT_POSITION_DISCONNECTED||s&Node.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC)throw Error("Cannot sort the given nodes.");return 0})}var Be=e=>typeof e=="object"&&"nodeType"in e&&e.nodeType===Node.ELEMENT_NODE;function ue(e,n,t){let s=e+1;return t&&s>=n&&(s=0),s}function ie(e,n,t){let s=e-1;return t&&s<0&&(s=n),s}var Y=typeof window<"u"?u.useLayoutEffect:u.useEffect,W=e=>e,$e=class{constructor(){h(this,"descendants",new Map),h(this,"register",e=>{if(e!=null)return Be(e)?this.registerNode(e):n=>{this.registerNode(n,e)}}),h(this,"unregister",e=>{this.descendants.delete(e);const n=ae(Array.from(this.descendants.keys()));this.assignIndex(n)}),h(this,"destroy",()=>{this.descendants.clear()}),h(this,"assignIndex",e=>{this.descendants.forEach(n=>{const t=e.indexOf(n.node);n.index=t,n.node.dataset.index=n.index.toString()})}),h(this,"count",()=>this.descendants.size),h(this,"enabledCount",()=>this.enabledValues().length),h(this,"values",()=>Array.from(this.descendants.values()).sort((n,t)=>n.index-t.index)),h(this,"enabledValues",()=>this.values().filter(e=>!e.disabled)),h(this,"item",e=>{if(this.count()!==0)return this.values()[e]}),h(this,"enabledItem",e=>{if(this.enabledCount()!==0)return this.enabledValues()[e]}),h(this,"first",()=>this.item(0)),h(this,"firstEnabled",()=>this.enabledItem(0)),h(this,"last",()=>this.item(this.descendants.size-1)),h(this,"lastEnabled",()=>{const e=this.enabledValues().length-1;return this.enabledItem(e)}),h(this,"indexOf",e=>{var n,t;return e&&(t=(n=this.descendants.get(e))==null?void 0:n.index)!=null?t:-1}),h(this,"enabledIndexOf",e=>e==null?-1:this.enabledValues().findIndex(n=>n.node.isSameNode(e))),h(this,"next",(e,n=!0)=>{const t=ue(e,this.count(),n);return this.item(t)}),h(this,"nextEnabled",(e,n=!0)=>{const t=this.item(e);if(!t)return;const s=this.enabledIndexOf(t.node),o=ue(s,this.enabledCount(),n);return this.enabledItem(o)}),h(this,"prev",(e,n=!0)=>{const t=ie(e,this.count()-1,n);return this.item(t)}),h(this,"prevEnabled",(e,n=!0)=>{const t=this.item(e);if(!t)return;const s=this.enabledIndexOf(t.node),o=ie(s,this.enabledCount()-1,n);return this.enabledItem(o)}),h(this,"registerNode",(e,n)=>{if(!e||this.descendants.has(e))return;const t=Array.from(this.descendants.keys()).concat(e),s=ae(t);n!=null&&n.disabled&&(n.disabled=!!n.disabled);const o={node:e,index:-1,...n};this.descendants.set(e,o),this.assignIndex(s)})}};function Ve(){const e=u.useRef(new $e);return Y(()=>()=>e.current.destroy()),e.current}var[He,me]=ee({name:"DescendantsProvider",errorMessage:"useDescendantsContext must be used within DescendantsProvider"});function We(e){const n=me(),[t,s]=u.useState(-1),o=u.useRef(null);Y(()=>()=>{o.current&&n.unregister(o.current)},[]),Y(()=>{if(!o.current)return;const a=Number(o.current.dataset.index);t!=a&&!Number.isNaN(a)&&s(a)});const r=W(e?n.register(e):n.register);return{descendants:n,index:t,enabledIndex:n.enabledIndexOf(o.current),register:$(r,o)}}function qe(){return[W(He),()=>W(me()),()=>Ve(),o=>We(o)]}function Qe(e){const{key:n}=e;return n.length===1||n.length>1&&/[^a-zA-Z0-9]/.test(n)}function Ge(e={}){const{timeout:n=300,preventDefault:t=()=>!0}=e,[s,o]=u.useState([]),r=u.useRef(),a=()=>{r.current&&(clearTimeout(r.current),r.current=null)},c=()=>{a(),r.current=setTimeout(()=>{o([]),r.current=null},n)};u.useEffect(()=>a,[]);function f(m){return l=>{if(l.key==="Backspace"){const d=[...s];d.pop(),o(d);return}if(Qe(l)){const d=s.concat(l.key);t(l)&&(l.preventDefault(),l.stopPropagation()),o(d),m(d.join("")),c()}}}return f}function Ze(e,n,t,s){if(n==null)return s;if(!s)return e.find(a=>t(a).toLowerCase().startsWith(n.toLowerCase()));const o=e.filter(r=>t(r).toLowerCase().startsWith(n.toLowerCase()));if(o.length>0){let r;return o.includes(s)?(r=o.indexOf(s)+1,r===o.length&&(r=0),o[r]):(r=e.indexOf(o[0]),e[r])}return s}function Xe(){const e=u.useRef(new Map),n=e.current,t=u.useCallback((o,r,a,c)=>{e.current.set(a,{type:r,el:o,options:c}),o.addEventListener(r,a,c)},[]),s=u.useCallback((o,r,a,c)=>{o.removeEventListener(r,a,c),e.current.delete(a)},[]);return u.useEffect(()=>()=>{n.forEach((o,r)=>{s(o.el,o.type,r,o.options)})},[s,n]),{add:t,remove:s}}function G(e){const n=e.target,{tagName:t,isContentEditable:s}=n;return t!=="INPUT"&&t!=="TEXTAREA"&&s!==!0}function Ye(e={}){const{ref:n,isDisabled:t,isFocusable:s,clickOnEnter:o=!0,clickOnSpace:r=!0,onMouseDown:a,onMouseUp:c,onClick:f,onKeyDown:m,onKeyUp:l,tabIndex:d,onMouseOver:M,onMouseLeave:C,...S}=e,[E,k]=u.useState(!0),[p,x]=u.useState(!1),D=Xe(),_=i=>{i&&i.tagName!=="BUTTON"&&k(!1)},L=E?d:d||0,v=t&&!s,g=u.useCallback(i=>{if(t){i.stopPropagation(),i.preventDefault();return}i.currentTarget.focus(),f==null||f(i)},[t,f]),y=u.useCallback(i=>{p&&G(i)&&(i.preventDefault(),i.stopPropagation(),x(!1),D.remove(document,"keyup",y,!1))},[p,D]),w=u.useCallback(i=>{if(m==null||m(i),t||i.defaultPrevented||i.metaKey||!G(i.nativeEvent)||E)return;const T=o&&i.key==="Enter";r&&i.key===" "&&(i.preventDefault(),x(!0)),T&&(i.preventDefault(),i.currentTarget.click()),D.add(document,"keyup",y,!1)},[t,E,m,o,r,D,y]),A=u.useCallback(i=>{if(l==null||l(i),t||i.defaultPrevented||i.metaKey||!G(i.nativeEvent)||E)return;r&&i.key===" "&&(i.preventDefault(),x(!1),i.currentTarget.click())},[r,E,t,l]),F=u.useCallback(i=>{i.button===0&&(x(!1),D.remove(document,"mouseup",F,!1))},[D]),R=u.useCallback(i=>{if(i.button!==0)return;if(t){i.stopPropagation(),i.preventDefault();return}E||x(!0),i.currentTarget.focus({preventScroll:!0}),D.add(document,"mouseup",F,!1),a==null||a(i)},[t,E,a,D,F]),P=u.useCallback(i=>{i.button===0&&(E||x(!1),c==null||c(i))},[c,E]),K=u.useCallback(i=>{if(t){i.preventDefault();return}M==null||M(i)},[t,M]),z=u.useCallback(i=>{p&&(i.preventDefault(),x(!1)),C==null||C(i)},[p,C]),I=$(n,_);return E?{...S,ref:I,type:"button","aria-disabled":v?void 0:t,disabled:v,onClick:g,onMouseDown:a,onMouseUp:c,onKeyUp:l,onKeyDown:m,onMouseOver:M,onMouseLeave:C}:{...S,ref:I,role:"button","data-active":le(p),"aria-disabled":t?"true":void 0,tabIndex:v?void 0:L,onClick:g,onMouseDown:R,onMouseUp:P,onKeyUp:A,onKeyDown:w,onMouseOver:K,onMouseLeave:z}}function Je(e){const{ref:n,handler:t,enabled:s=!0}=e,o=Ie(t),a=u.useRef({isPointerDown:!1,ignoreEmulatedMouseEvents:!1}).current;u.useEffect(()=>{if(!s)return;const c=d=>{Z(d,n)&&(a.isPointerDown=!0)},f=d=>{if(a.ignoreEmulatedMouseEvents){a.ignoreEmulatedMouseEvents=!1;return}a.isPointerDown&&t&&Z(d,n)&&(a.isPointerDown=!1,o(d))},m=d=>{a.ignoreEmulatedMouseEvents=!0,t&&a.isPointerDown&&Z(d,n)&&(a.isPointerDown=!1,o(d))},l=pe(n.current);return l.addEventListener("mousedown",c,!0),l.addEventListener("mouseup",f,!0),l.addEventListener("touchstart",c,!0),l.addEventListener("touchend",m,!0),()=>{l.removeEventListener("mousedown",c,!0),l.removeEventListener("mouseup",f,!0),l.removeEventListener("touchstart",c,!0),l.removeEventListener("touchend",m,!0)}},[t,n,o,a,s])}function Z(e,n){var t;const s=e.target;return e.button>0||s&&!pe(s).contains(s)?!1:!((t=n.current)!=null&&t.contains(s))}function pe(e){var n;return(n=e==null?void 0:e.ownerDocument)!=null?n:document}var[en,nn,tn,sn]=qe(),[on,V]=ee({strict:!1,name:"MenuContext"});function rn(e,...n){const t=u.useId(),s=e||t;return u.useMemo(()=>n.map(o=>`${o}-${s}`),[s,n])}function he(e){var n;return(n=e==null?void 0:e.ownerDocument)!=null?n:document}function ce(e){return he(e).activeElement===e}function an(e={}){const{id:n,closeOnSelect:t=!0,closeOnBlur:s=!0,initialFocusRef:o,autoSelect:r=!0,isLazy:a,isOpen:c,defaultIsOpen:f,onClose:m,onOpen:l,placement:d="bottom-start",lazyBehavior:M="unmount",direction:C,computePositionOnMount:S=!1,...E}=e,k=u.useRef(null),p=u.useRef(null),x=tn(),D=u.useCallback(()=>{requestAnimationFrame(()=>{var N;(N=k.current)==null||N.focus({preventScroll:!1})})},[]),_=u.useCallback(()=>{const N=setTimeout(()=>{var O;if(o)(O=o.current)==null||O.focus();else{const H=x.firstEnabled();H&&P(H.index)}});T.current.add(N)},[x,o]),L=u.useCallback(()=>{const N=setTimeout(()=>{const O=x.lastEnabled();O&&P(O.index)});T.current.add(N)},[x]),v=u.useCallback(()=>{l==null||l(),r?_():D()},[r,_,D,l]),{isOpen:g,onOpen:y,onClose:w,onToggle:A}=Ae({isOpen:c,defaultIsOpen:f,onClose:m,onOpen:v});Je({enabled:g&&s,ref:k,handler:N=>{var O;(O=p.current)!=null&&O.contains(N.target)||w()}});const F=Fe({...E,enabled:g||S,placement:d,direction:C}),[R,P]=u.useState(-1);de(()=>{g||P(-1)},[g]),je(k,{focusRef:p,visible:g,shouldFocus:!0});const K=Re({isOpen:g,ref:k}),[z,I]=rn(n,"menu-button","menu-list"),i=u.useCallback(()=>{y(),D()},[y,D]),T=u.useRef(new Set([]));pn(()=>{T.current.forEach(N=>clearTimeout(N)),T.current.clear()});const Q=u.useCallback(()=>{y(),_()},[_,y]),oe=u.useCallback(()=>{y(),L()},[y,L]),ye=u.useCallback(()=>{var N,O;const H=he(k.current),Ce=(N=k.current)==null?void 0:N.contains(H.activeElement);if(!(g&&!Ce))return;const re=(O=x.item(R))==null?void 0:O.node;re==null||re.focus()},[g,R,x]);return{openAndFocusMenu:i,openAndFocusFirstItem:Q,openAndFocusLastItem:oe,onTransitionEnd:ye,unstable__animationState:K,descendants:x,popper:F,buttonId:z,menuId:I,forceUpdate:F.forceUpdate,orientation:"vertical",isOpen:g,onToggle:A,onOpen:y,onClose:w,menuRef:k,buttonRef:p,focusedIndex:R,closeOnSelect:t,closeOnBlur:s,autoSelect:r,setFocusedIndex:P,isLazy:a,lazyBehavior:M,initialFocusRef:o}}function un(e={},n=null){const t=V(),{onToggle:s,popper:o,openAndFocusFirstItem:r,openAndFocusLastItem:a}=t,c=u.useCallback(f=>{const m=f.key,d={Enter:r,ArrowDown:r,ArrowUp:a}[m];d&&(f.preventDefault(),f.stopPropagation(),d(f))},[r,a]);return{...e,ref:$(t.buttonRef,n,o.referenceRef),id:t.buttonId,"data-active":le(t.isOpen),"aria-expanded":t.isOpen,"aria-haspopup":"menu","aria-controls":t.menuId,onClick:X(e.onClick,s),onKeyDown:X(e.onKeyDown,c)}}function J(e){var n;return fn(e)&&!!((n=e==null?void 0:e.getAttribute("role"))!=null&&n.startsWith("menuitem"))}function cn(e={},n=null){const t=V();if(!t)throw new Error("useMenuContext: context is undefined. Seems you forgot to wrap component within <Menu>");const{focusedIndex:s,setFocusedIndex:o,menuRef:r,isOpen:a,onClose:c,menuId:f,isLazy:m,lazyBehavior:l,unstable__animationState:d}=t,M=nn(),C=Ge({preventDefault:p=>p.key!==" "&&J(p.target)}),S=u.useCallback(p=>{const x=p.key,_={Tab:v=>v.preventDefault(),Escape:c,ArrowDown:()=>{const v=M.nextEnabled(s);v&&o(v.index)},ArrowUp:()=>{const v=M.prevEnabled(s);v&&o(v.index)}}[x];if(_){p.preventDefault(),_(p);return}const L=C(v=>{const g=Ze(M.values(),v,y=>{var w,A;return(A=(w=y==null?void 0:y.node)==null?void 0:w.textContent)!=null?A:""},M.item(s));if(g){const y=M.indexOf(g.node);o(y)}});J(p.target)&&L(p)},[M,s,C,c,o]),E=u.useRef(!1);a&&(E.current=!0);const k=Ue({wasSelected:E.current,enabled:m,mode:l,isSelected:d.present});return{...e,ref:$(r,n),children:k?e.children:null,tabIndex:-1,role:"menu",id:f,style:{...e.style,transformOrigin:"var(--popper-transform-origin)"},"aria-orientation":"vertical",onKeyDown:X(e.onKeyDown,S)}}function ln(e={}){const{popper:n,isOpen:t}=V();return n.getPopperProps({...e,style:{visibility:t?"visible":"hidden",...e.style}})}function dn(e={},n=null){const{onMouseEnter:t,onMouseMove:s,onMouseLeave:o,onClick:r,onFocus:a,isDisabled:c,isFocusable:f,closeOnSelect:m,type:l,...d}=e,M=V(),{setFocusedIndex:C,focusedIndex:S,closeOnSelect:E,onClose:k,menuRef:p,isOpen:x,menuId:D}=M,_=u.useRef(null),L=`${D}-menuitem-${u.useId()}`,{index:v,register:g}=sn({disabled:c&&!f}),y=u.useCallback(I=>{t==null||t(I),!c&&C(v)},[C,v,c,t]),w=u.useCallback(I=>{s==null||s(I),_.current&&!ce(_.current)&&y(I)},[y,s]),A=u.useCallback(I=>{o==null||o(I),!c&&C(-1)},[C,c,o]),F=u.useCallback(I=>{r==null||r(I),J(I.currentTarget)&&(m??E)&&k()},[k,r,E,m]),R=u.useCallback(I=>{a==null||a(I),C(v)},[C,a,v]),P=v===S,K=c&&!f;de(()=>{x&&(P&&!K&&_.current?requestAnimationFrame(()=>{var I;(I=_.current)==null||I.focus()}):p.current&&!ce(p.current)&&p.current.focus())},[P,K,p,x]);const z=Ye({onClick:F,onFocus:R,onMouseEnter:y,onMouseMove:w,onMouseLeave:A,ref:$(g,_,n),isDisabled:c,isFocusable:f});return{...d,...z,type:l??z.type,id:L,role:"menuitem",tabIndex:P?0:-1}}function fn(e){var n;if(!mn(e))return!1;const t=(n=e.ownerDocument.defaultView)!=null?n:window;return e instanceof t.HTMLElement}function mn(e){return e!=null&&typeof e=="object"&&"nodeType"in e&&e.nodeType===Node.ELEMENT_NODE}function pn(e,n=[]){return u.useEffect(()=>()=>e(),n)}var[hn,q]=ee({name:"MenuStylesContext",errorMessage:`useMenuStyles returned is 'undefined'. Seems you forgot to wrap the components in "<Menu />" `}),vn=e=>{const{children:n}=e,t=Ee("Menu",e),s=fe(e),{direction:o}=Me(),{descendants:r,...a}=an({...s,direction:o}),c=u.useMemo(()=>a,[a]),{isOpen:f,onClose:m,forceUpdate:l}=c;return b.jsx(en,{value:r,children:b.jsx(on,{value:c,children:b.jsx(hn,{value:t,children:ge(n,{isOpen:f,onClose:m,forceUpdate:l})})})})};vn.displayName="Menu";var ve=U((e,n)=>{const t=q();return b.jsx(j.span,{ref:n,...e,__css:t.command,className:"chakra-menu__command"})});ve.displayName="MenuCommand";var bn=U((e,n)=>{const{type:t,...s}=e,o=q(),r=s.as||t?t??void 0:"button",a=u.useMemo(()=>({textDecoration:"none",color:"inherit",userSelect:"none",display:"flex",width:"100%",alignItems:"center",textAlign:"start",flex:"0 0 auto",outline:0,...o.item}),[o.item]);return b.jsx(j.button,{ref:n,type:r,...s,__css:a})}),be=e=>{const{className:n,children:t,...s}=e,o=u.Children.only(t),r=u.isValidElement(o)?u.cloneElement(o,{focusable:"false","aria-hidden":!0,className:B("chakra-menu__icon",o.props.className)}):null,a=B("chakra-menu__icon-wrapper",n);return b.jsx(j.span,{className:a,...s,__css:{flexShrink:0},children:r})};be.displayName="MenuIcon";var xn=U((e,n)=>{const{icon:t,iconSpacing:s="0.75rem",command:o,commandSpacing:r="0.75rem",children:a,...c}=e,f=dn(c,n),l=t||o?b.jsx("span",{style:{pointerEvents:"none",flex:1},children:a}):a;return b.jsxs(bn,{...f,className:B("chakra-menu__menuitem",f.className),children:[t&&b.jsx(be,{fontSize:"0.8em",marginEnd:s,children:t}),l,o&&b.jsx(ve,{marginStart:r,children:o})]})});xn.displayName="MenuItem";var yn={enter:{visibility:"visible",opacity:1,scale:1,transition:{duration:.2,ease:[.4,0,.2,1]}},exit:{transitionEnd:{visibility:"hidden"},opacity:0,scale:.8,transition:{duration:.1,easings:"easeOut"}}},Cn=j(De.div),In=U(function(n,t){var s,o;const{rootProps:r,motionProps:a,...c}=n,{isOpen:f,onTransitionEnd:m,unstable__animationState:l}=V(),d=cn(c,t),M=ln(r),C=q();return b.jsx(j.div,{...M,__css:{zIndex:(o=n.zIndex)!=null?o:(s=C.list)==null?void 0:s.zIndex},children:b.jsx(Cn,{variants:yn,initial:!1,animate:f?"enter":"exit",__css:{outline:0,...C.list},...a,className:B("chakra-menu__menu-list",d.className),...d,onUpdate:m,onAnimationComplete:_e(l.onComplete,d.onAnimationComplete)})})});In.displayName="MenuList";var En=U((e,n)=>{const t=q();return b.jsx(j.button,{ref:n,...e,__css:{display:"inline-flex",appearance:"none",alignItems:"center",outline:0,...t.button}})}),Mn=U((e,n)=>{const{children:t,as:s,...o}=e,r=un(o,n),a=s||En;return b.jsx(a,{...r,className:B("chakra-menu__menu-button",e.className),children:b.jsx(j.span,{__css:{pointerEvents:"none",flex:"1 1 auto",minW:0},children:e.children})})});Mn.displayName="MenuButton";function gn(e,n=[]){const t=Object.assign({},e);for(const s of n)s in t&&delete t[s];return t}var Dn=["h","minH","height","minHeight"],xe=U((e,n)=>{const t=ke("Textarea",e),{className:s,rows:o,...r}=fe(e),a=Ne(r),c=o?gn(t,Dn):t;return b.jsx(j.textarea,{ref:n,rows:o,...a,className:B("chakra-textarea",s),__css:c})});xe.displayName="Textarea";async function _n(e){const{data:n}=await se.post(`/api/v1/projects/team/${e.pid}`,{email:e.email},{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});return n}async function kn(e){const{data:n}=await se.delete(`/api/v1/projects/team/${e}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});return n}async function Nn(e){const{data:n}=await se.put(`/api/v1/projects/team/approve/${e.pid}`,{status:e.status},{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});return n}const Ln=()=>{const e=ne();return te(kn,{onSuccess:()=>{e.invalidateQueries(["project"])}})},An=()=>{const e=ne();return te(_n,{onSuccess:n=>{e.invalidateQueries(["project",n.projectId])}})},Fn=()=>{const e=ne();return te(Nn,{onSuccess:()=>{Promise.all([e.invalidateQueries(["project"]),e.invalidateQueries(["bugs"])])}})};function jn({label:e,...n}){const[t,s]=Oe(n);return b.jsxs(Pe,{isInvalid:!!s.error&&s.touched,children:[b.jsx(we,{children:e}),b.jsx(Te,{as:xe,resize:"vertical",...t,...n}),b.jsx(Se,{children:s.error})]})}function Rn({placeholder:e,size:n,onChange:t,onKeyDown:s,...o}){return b.jsx(Le,{placeholder:e,size:n||"sm",borderColor:"primary.600",borderRadius:"5px",_hover:{borderColor:"primary.500"},_focus:{borderColor:"brand.200"},onChange:t,onKeyDown:s,...o})}export{vn as M,Rn as N,jn as T,Fn as a,Mn as b,In as c,xn as d,qe as e,Ye as f,An as g,Ln as h,q as u};
