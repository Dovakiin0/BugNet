import{a as ie,b as ae,u as K,c as L}from"./index-fd06f6ed.js";import{m as le}from"./index.esm-09e0c4ef.js";import{r as o,k as O,c as h,m as ce,f as ue,W as pe,o as de,Y as fe,a6 as ge,j as a,A as me,P as ve}from"./index-b57f6512.js";var Pe={exit:{scale:.85,opacity:0,transition:{opacity:{duration:.15,easings:"easeInOut"},scale:{duration:.2,easings:"easeInOut"}}},enter:{scale:1,opacity:1,transition:{opacity:{easings:"easeOut",duration:.2},scale:{duration:.2,ease:[.175,.885,.4,1.1]}}}},N=n=>{var r;return((r=n.current)==null?void 0:r.ownerDocument)||document},q=n=>{var r,e;return((e=(r=n.current)==null?void 0:r.ownerDocument)==null?void 0:e.defaultView)||window};function we(n={}){const{openDelay:r=0,closeDelay:e=0,closeOnClick:i=!0,closeOnMouseDown:u,closeOnScroll:z,closeOnPointerDown:C=u,closeOnEsc:f=!0,onOpen:T,onClose:B,placement:E,id:D,isOpen:F,defaultIsOpen:V,arrowSize:g=10,arrowShadowColor:_,arrowPadding:M,modifiers:$,isDisabled:m,gutter:k,offset:p,direction:H,...v}=n,{isOpen:s,onOpen:P,onClose:w}=ie({isOpen:F,defaultIsOpen:V,onOpen:T,onClose:B}),{referenceRef:j,getPopperProps:c,getArrowInnerProps:X,getArrowProps:Z}=ae({enabled:s,placement:E,arrowPadding:M,modifiers:$,gutter:k,offset:p,direction:H}),ee=o.useId(),I=`tooltip-${D??ee}`,d=o.useRef(null),y=o.useRef(),b=o.useCallback(()=>{y.current&&(clearTimeout(y.current),y.current=void 0)},[]),R=o.useRef(),S=o.useCallback(()=>{R.current&&(clearTimeout(R.current),R.current=void 0)},[]),A=o.useCallback(()=>{S(),w()},[w,S]),G=be(d,A),W=o.useCallback(()=>{if(!m&&!y.current){G();const t=q(d);y.current=t.setTimeout(P,r)}},[G,m,P,r]),l=o.useCallback(()=>{b();const t=q(d);R.current=t.setTimeout(A,e)},[e,A,b]),J=o.useCallback(()=>{s&&i&&l()},[i,l,s]),Q=o.useCallback(()=>{s&&C&&l()},[C,l,s]),oe=o.useCallback(t=>{s&&t.key==="Escape"&&l()},[s,l]);K(()=>N(d),"keydown",f?oe:void 0),K(()=>N(d),"scroll",()=>{s&&z&&A()}),o.useEffect(()=>{m&&(b(),s&&w())},[m,s,w,b]),o.useEffect(()=>()=>{b(),S()},[b,S]),K(()=>d.current,"pointerleave",l);const ne=o.useCallback((t={},x=null)=>({...t,ref:le(d,x,j),onPointerEnter:O(t.onPointerEnter,se=>{se.pointerType!=="touch"&&W()}),onClick:O(t.onClick,J),onPointerDown:O(t.onPointerDown,Q),onFocus:O(t.onFocus,W),onBlur:O(t.onBlur,l),"aria-describedby":s?I:void 0}),[W,l,Q,s,I,J,j]),re=o.useCallback((t={},x=null)=>c({...t,style:{...t.style,[L.arrowSize.var]:g?`${g}px`:void 0,[L.arrowShadowColor.var]:_}},x),[c,g,_]),te=o.useCallback((t={},x=null)=>{const U={...t.style,position:"relative",transformOrigin:L.transformOrigin.varRef};return{ref:x,...v,...t,id:I,role:"tooltip",style:U}},[v,I]);return{isOpen:s,show:W,hide:l,getTriggerProps:ne,getTooltipProps:te,getTooltipPositionerProps:re,getArrowProps:Z,getArrowInnerProps:X}}var Y="chakra-ui:close-tooltip";function be(n,r){return o.useEffect(()=>{const e=N(n);return e.addEventListener(Y,r),()=>e.removeEventListener(Y,r)},[r,n]),()=>{const e=N(n),i=q(n);e.dispatchEvent(new i.CustomEvent(Y))}}function he(n,r=[]){const e=Object.assign({},n);for(const i of r)i in e&&delete e[i];return e}function Ce(n,r){const e={};for(const i of r)i in n&&(e[i]=n[i]);return e}var ke=h(ce.div),ye=ue((n,r)=>{var e,i;const u=pe("Tooltip",n),z=de(n),C=fe(),{children:f,label:T,shouldWrapChildren:B,"aria-label":E,hasArrow:D,bg:F,portalProps:V,background:g,backgroundColor:_,bgColor:M,motionProps:$,...m}=z,k=(i=(e=g??_)!=null?e:F)!=null?i:M;if(k){u.bg=k;const c=ge(C,"colors",k);u[L.arrowBg.var]=c}const p=we({...m,direction:C.direction}),H=typeof f=="string"||B;let v;if(H)v=a.jsx(h.span,{display:"inline-block",tabIndex:0,...p.getTriggerProps(),children:f});else{const c=o.Children.only(f);v=o.cloneElement(c,p.getTriggerProps(c.props,c.ref))}const s=!!E,P=p.getTooltipProps({},r),w=s?he(P,["role","id"]):P,j=Ce(P,["role","id"]);return T?a.jsxs(a.Fragment,{children:[v,a.jsx(me,{children:p.isOpen&&a.jsx(ve,{...V,children:a.jsx(h.div,{...p.getTooltipPositionerProps(),__css:{zIndex:u.zIndex,pointerEvents:"none"},children:a.jsxs(ke,{variants:Pe,initial:"exit",animate:"enter",exit:"exit",...$,...w,__css:u,children:[T,s&&a.jsx(h.span,{srOnly:!0,...j,children:E}),D&&a.jsx(h.div,{"data-popper-arrow":!0,className:"chakra-tooltip__arrow-wrapper",children:a.jsx(h.div,{"data-popper-arrow-inner":!0,className:"chakra-tooltip__arrow",__css:{bg:u.bg}})})]})})})})]}):a.jsx(a.Fragment,{children:f})});ye.displayName="Tooltip";export{ye as T};
