import{h as j,r as b,j as e,F as s,N as l,T as r}from"./index-50ada129.js";import{F as S,c as y,a as c,b as v,T as m,B as d}from"./TextField-8f5ff326.js";import{u as w,a as T}from"./axios-01e9b4d2.js";import{u as k}from"./useToast-8d91c7cb.js";import{D as z,f as B}from"./index.esm-37a5066e.js";import{u as E}from"./useOauth-50523859.js";import{B as u}from"./chunk-6CSUKJP7-05756954.js";import{I as F}from"./chunk-E77276RR-9aad27d4.js";async function L(a){const{data:o}=await T.post("/api/v1/auth/",a);return o}const D=()=>w(L);function U({}){const{successToast:a,errorToast:o}=k(),n=j(),{mutateAsync:x}=D(),h={email:"",password:""};b.useEffect(()=>{localStorage.getItem("token")&&n("/",{replace:!0})});function p(t,{setSubmitting:f}){x(t,{onSuccess:i=>{localStorage.setItem("token",i.token),a("Logged in Successfully!"),n("/")},onError:({response:i})=>{o(i.data.message)}}),f(!1)}const g=()=>{E().call("https://bugnet.onrender.com/api/v1/auth/github")};return e.jsxs(s,{justify:"center",align:"center",height:"100vh",flexDir:"column",gap:"10",children:[e.jsx(s,{children:e.jsx(l,{to:"/",children:e.jsxs(s,{justifyContent:"center",alignItems:"center",children:[e.jsx(u,{boxSize:"30px",marginRight:"20px",children:e.jsx(F,{src:"/LogoNoBack.png",alt:"logo"})}),e.jsx(r,{color:"primary.100",fontWeight:"extrabold",fontSize:"2xl",letterSpacing:"4px",children:"BUGNET"})]})})}),e.jsxs(s,{width:"500px",height:"500px",bg:"primary.800",padding:"20px",flexDir:"column",gap:"10",children:[e.jsxs(u,{children:[e.jsx(r,{fontSize:"3xl",fontWeight:"bold",children:"Login"}),e.jsxs(s,{gap:"2",children:[e.jsxs(r,{color:"primary.200",fontSize:"sm",children:["Don't have an account?"," "]}),e.jsx(l,{to:"/register",children:e.jsx(r,{fontSize:"sm",_hover:{borderBottom:"1px solid white"},children:"Register"})})]})]}),e.jsx(S,{initialValues:h,onSubmit:p,validationSchema:y({email:c().email().required("Email is required"),password:c().min(8).max(16).required("Password is required")}),children:({isSubmitting:t})=>e.jsx(v,{children:e.jsxs(s,{flexDirection:"column",gap:"5",children:[e.jsx(m,{type:"text",name:"email",label:"Email",placeholder:"Your email address"}),e.jsx(m,{type:"password",name:"password",label:"Password",placeholder:"Your password"}),e.jsx(d,{disabled:t,type:"submit",colorScheme:"brand",fontSize:"md",size:"md",children:"Submit"})]})})}),e.jsx(z,{}),e.jsx(d,{bg:"primary.800",_hover:{bg:"primary.900"},leftIcon:e.jsx(B,{}),onClick:g,children:"Login With Github"})]})]})}export{U as default};
