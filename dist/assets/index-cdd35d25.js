import{b as j,r as b,j as e,F as s,N as d,T as a}from"./index-b57f6512.js";import{F as w,c as y,a as t,j as S,b as v,T as i,B as m}from"./TextField-73285f26.js";import{u as q,a as T}from"./axios-6b7dc529.js";import{u as z}from"./useToast-2a022ee6.js";import{D as B,f as F}from"./index.esm-09e0c4ef.js";import{u as R}from"./useOauth-50523859.js";import{B as u}from"./chunk-6CSUKJP7-cb1c6780.js";import{I as E}from"./chunk-E77276RR-2ab29a74.js";async function I(o){const{data:n}=await T.post("/api/v1/auth/register",o);return n}const P=()=>q(I);function W({}){const{mutateAsync:o}=P(),{successToast:n,errorToast:p}=z(),l=j(),h={username:"",email:"",password:"",password2:""};b.useEffect(()=>{localStorage.getItem("token")&&l("/")});function x(r,{setSubmitting:f}){o(r,{onSuccess:c=>{n("Registered Successfully! Please login"),l("/login")},onError:({response:c})=>{p(c.data.message)}}),f(!1)}const g=()=>{R().call("https://bugnet.onrender.com/api/v1/auth/github")};return e.jsxs(s,{justify:"center",align:"center",height:"100vh",flexDir:"column",gap:"10",children:[e.jsx(s,{children:e.jsx(d,{to:"/",children:e.jsxs(s,{justifyContent:"center",alignItems:"center",children:[e.jsx(u,{boxSize:"30px",marginRight:"20px",children:e.jsx(E,{src:"/LogoNoBack.png",alt:"logo"})}),e.jsx(a,{color:"primary.100",fontWeight:"extrabold",fontSize:"2xl",letterSpacing:"4px",children:"BUGNET"})]})})}),e.jsxs(s,{width:"500px",height:"600px",bg:"primary.800",padding:"20px",flexDir:"column",gap:"5",children:[e.jsxs(u,{children:[e.jsx(a,{fontSize:"3xl",fontWeight:"bold",children:"Register"}),e.jsxs(s,{gap:"2",children:[e.jsxs(a,{color:"primary.200",fontSize:"sm",children:["Already have an account?"," "]}),e.jsx(d,{to:"/login",children:e.jsx(a,{fontSize:"sm",_hover:{borderBottom:"1px solid white"},children:"Login"})})]})]}),e.jsx(w,{initialValues:h,onSubmit:x,validationSchema:y({username:t().min(3,"Must be at least 3 characters").required("Username is required"),email:t().email("Invalid email address").required("Required"),password:t().min(8,"Must be at least 8 characters").max(20,"Must be 20 characters or less").required("Password is required"),password2:t().oneOf([S("password"),null],"Passwords must match").required("Confirm Password is required")}),children:({isSubmitting:r})=>e.jsx(v,{children:e.jsxs(s,{flexDirection:"column",gap:"5",children:[e.jsx(i,{type:"text",name:"username",label:"Username",placeholder:"Your username"}),e.jsx(i,{type:"text",name:"email",label:"Email",placeholder:"Your email address"}),e.jsx(i,{type:"password",name:"password",label:"Password",placeholder:"Your password"}),e.jsx(i,{type:"password",name:"password2",label:"Confirm Password",placeholder:"Confirm password"}),e.jsx(m,{disabled:r,type:"submit",colorScheme:"brand",fontSize:"md",size:"md",children:"Submit"})]})})}),e.jsx(B,{}),e.jsx(m,{bg:"primary.800",_hover:{bg:"primary.900"},leftIcon:e.jsx(F,{}),onClick:g,children:"Sigup With Github"})]})]})}export{W as default};
